{"version":3,"file":"profile.js","sources":["../src/js/registration.js"],"sourcesContent":["import iziToast from \"izitoast\";\n\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst formReg = document.querySelector('form')\nconst inputPassword = document.querySelector('[name=\"user-password\"]');\nconst inputEmail = document.querySelector('[name=\"user-email\"]');\nconst registration = document.querySelector('.registration-text');\nconst registrationButton = document.querySelector('.registration-button');\nformReg.addEventListener('submit', handleFormRegistration);\nregistration.addEventListener('click', handleRegistration);\n\n\nconst storageKey = 'users';\n\n\n// localStorage.clear()\n\n\nfunction handleFormRegistration(event){\n    \n    event.preventDefault();\n\n    \n    let users = [];\n    const stored = localStorage.getItem(storageKey);\n    if(stored){\n        users = JSON.parse(stored);\n    }\n    \n    \n    \n    if(inputEmail.value === '' || inputPassword.value === ''){\n        iziToast.show({\n            message: 'Заповніть всі поля',\n            messageColor: 'white',\n            color: 'red',\n            position: 'topCenter'\n        });\n        return;\n\n    }\n\n    if(inputPassword.value.length < 8){\n        iziToast.show({\n            message: 'пароль повинен бути не менше 8 символів',\n            messageColor: 'white',\n            color: 'red',\n            position: 'topCenter'\n        });\n        return;\n\n    }\n\n    if(registrationButton.textContent === 'Зареєструватися'){\n        let usersExists = false;\n        for(let i = 0; i < users.length; i++){\n            if(users[i].email === inputEmail.value){\n                usersExists = true;\n                break;\n                \n                    \n                    \n\n            }\n        }\n\n        if(usersExists === true){\n            iziToast.show({\n                \n                    message: 'Такий акаунт вже зареєстровано!',\n                    messageColor: 'white',\n                    color: 'yellow',\n                    position: 'topCenter'\n                });\n                \n        }\n        else{\n            users.push({email: inputEmail.value, password: inputPassword.value});\n            localStorage.setItem(storageKey, JSON.stringify(users));\n            iziToast.show({\n                \n                    message: 'реєстрація успішна!',\n                    messageColor: 'white',\n                    color: 'green',\n                    position: 'topCenter'\n                });\n                formReg.reset();\n        }\n\n    }\n    else{\n        let usersFound = false;\n        for(let i = 0; i < users.length; i++){\n            if(users[i].email === inputEmail.value && users[i].password === inputPassword.value){\n                usersFound = true;\n                iziToast.show({\n                    \n                        message: 'Вхід виконанний!',\n                        messageColor: 'white',\n                        color: 'green',\n                        position: 'topCenter'\n                    });\n                    \n                    break\n                        \n        \n            }\n\n            \n        \n            }\n            if(usersFound === false){\n                iziToast.show({\n                    \n                        message: 'Такого акаунту не існує!',\n                        messageColor: 'white',\n                        color: 'red',\n                        position: 'topCenter'\n                    });\n            }\n\n    }\n    \n    \n    \n    \n    \n    \n    \n      \n    \n\n\n    \n}\n\nfunction handleRegistration(event){\n    event.preventDefault();\n   \n    if(registration.textContent === 'Зареєструватися'){\n        registrationButton.innerHTML = 'Зареєструватися';\n        registration.innerHTML = 'Увійти';\n        registrationButton.style.width = '210px';\n        inputEmail.value = '';\n        inputPassword.value = '';\n\n    }\n    else{\n        registrationButton.innerHTML = 'Увійти';\n        registrationButton.style.width = '150px';\n        registration.innerHTML = 'Зареєструватися';\n        inputEmail.value = '';\n        inputPassword.value = '';\n\n    }\n    \n    \n        \n    \n    \n    \n    \n\n}\n\n\n\n\n\n\n\n\n"],"names":["formReg","inputPassword","inputEmail","registration","registrationButton","handleFormRegistration","handleRegistration","storageKey","event","users","stored","iziToast","usersExists","i","usersFound"],"mappings":"oFAKA,MAAMA,EAAU,SAAS,cAAc,MAAM,EACvCC,EAAgB,SAAS,cAAc,wBAAwB,EAC/DC,EAAa,SAAS,cAAc,qBAAqB,EACzDC,EAAe,SAAS,cAAc,oBAAoB,EAC1DC,EAAqB,SAAS,cAAc,sBAAsB,EACxEJ,EAAQ,iBAAiB,SAAUK,CAAsB,EACzDF,EAAa,iBAAiB,QAASG,CAAkB,EAGzD,MAAMC,EAAa,QAMnB,SAASF,EAAuBG,EAAM,CAElCA,EAAM,eAAc,EAGpB,IAAIC,EAAQ,CAAA,EACZ,MAAMC,EAAS,aAAa,QAAQH,CAAU,EAO9C,GANGG,IACCD,EAAQ,KAAK,MAAMC,CAAM,GAK1BR,EAAW,QAAU,IAAMD,EAAc,QAAU,GAAG,CACrDU,EAAS,KAAK,CACV,QAAS,qBACT,aAAc,QACd,MAAO,MACP,SAAU,WACtB,CAAS,EACD,MAEH,CAED,GAAGV,EAAc,MAAM,OAAS,EAAE,CAC9BU,EAAS,KAAK,CACV,QAAS,0CACT,aAAc,QACd,MAAO,MACP,SAAU,WACtB,CAAS,EACD,MAEH,CAED,GAAGP,EAAmB,cAAgB,kBAAkB,CACpD,IAAIQ,EAAc,GAClB,QAAQC,EAAI,EAAGA,EAAIJ,EAAM,OAAQI,IAC7B,GAAGJ,EAAMI,CAAC,EAAE,QAAUX,EAAW,MAAM,CACnCU,EAAc,GACd,KAKH,CAGFA,IAAgB,GACfD,EAAS,KAAK,CAEN,QAAS,kCACT,aAAc,QACd,MAAO,SACP,SAAU,WAC9B,CAAiB,GAILF,EAAM,KAAK,CAAC,MAAOP,EAAW,MAAO,SAAUD,EAAc,KAAK,CAAC,EACnE,aAAa,QAAQM,EAAY,KAAK,UAAUE,CAAK,CAAC,EACtDE,EAAS,KAAK,CAEN,QAAS,sBACT,aAAc,QACd,MAAO,QACP,SAAU,WAC9B,CAAiB,EACDX,EAAQ,MAAK,EAGxB,KACG,CACA,IAAIc,EAAa,GACjB,QAAQD,EAAI,EAAGA,EAAIJ,EAAM,OAAQI,IAC7B,GAAGJ,EAAMI,CAAC,EAAE,QAAUX,EAAW,OAASO,EAAMI,CAAC,EAAE,WAAaZ,EAAc,MAAM,CAChFa,EAAa,GACbH,EAAS,KAAK,CAEN,QAAS,mBACT,aAAc,QACd,MAAO,QACP,SAAU,WAClC,CAAqB,EAED,KAGP,CAKEG,IAAe,IACdH,EAAS,KAAK,CAEN,QAAS,2BACT,aAAc,QACd,MAAO,MACP,SAAU,WAClC,CAAqB,CAGhB,CAaL,CAEA,SAASL,EAAmBE,EAAM,CAC9BA,EAAM,eAAc,EAEjBL,EAAa,cAAgB,mBAC5BC,EAAmB,UAAY,kBAC/BD,EAAa,UAAY,SACzBC,EAAmB,MAAM,MAAQ,QACjCF,EAAW,MAAQ,GACnBD,EAAc,MAAQ,KAItBG,EAAmB,UAAY,SAC/BA,EAAmB,MAAM,MAAQ,QACjCD,EAAa,UAAY,kBACzBD,EAAW,MAAQ,GACnBD,EAAc,MAAQ,GAW9B"}